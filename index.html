<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle de Obras e Funcion√°rios</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üèóÔ∏è</text></svg>">
    <link rel="stylesheet" href="styles.css?v=4.0">
    <link rel="stylesheet" href="modal-tarefa-modern.css?v=1.0">
    <link rel="stylesheet" href="trello-style.css?v=1.0">
</head>
<body>
    <!-- Header com Logo e Toggle -->
    <div class="header">
        <div class="header-left">
            <button class="menu-toggle" onclick="toggleSidebar()" title="Menu">
                <span class="hamburger"></span>
                <span class="hamburger"></span>
                <span class="hamburger"></span>
            </button>
            <img src="assets/logo.png" alt="Logo" class="header-logo" onerror="this.style.display='none'">
            <h1>Controle de Obras</h1>
        </div>
        <div class="header-right">
            <span class="user-info" id="data-hoje"></span>
            <div class="user-dropdown">
                <button class="user-info user-dropdown-toggle" id="user-dropdown-toggle" onclick="toggleUserDropdown()">
                    üë§ <span id="user-name-display">Carregando...</span>
                    <span class="user-dropdown-arrow">‚ñº</span>
                </button>
                <div class="user-dropdown-menu" id="user-dropdown-menu">
                    <div class="user-dropdown-item" onclick="abrirConfiguracoesUsuario()">
                        ‚öôÔ∏è Minha Conta
                    </div>
                    <div class="user-dropdown-divider"></div>
                    <div class="user-dropdown-item logout-item" onclick="fazerLogout()">
                        üö™ Sair
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Sidebar Menu -->
    <aside class="sidebar" id="sidebar">
        <nav class="sidebar-nav">
            <div class="sidebar-item" onclick="showTab('dashboard')">
                <span class="icon">üè†</span>
                <span class="text">In√≠cio</span>
            </div>
            
            <div class="sidebar-item" onclick="showTab('lancamentos')">
                <span class="icon">üìã</span>
                <span class="text">Lan√ßamentos</span>
            </div>
            
            <div class="sidebar-item submenu-parent" onclick="toggleSubmenu(this)">
                <span class="icon">üìÅ</span>
                <span class="text">Cadastros</span>
                <span class="arrow">‚ñº</span>
            </div>
            <div class="submenu">
                <div class="submenu-item" onclick="showTab('funcionarios')">
                    <span class="icon">üë•</span>
                    <span class="text">Funcion√°rios</span>
                </div>
                <div class="submenu-item" onclick="showTab('obras')">
                    <span class="icon">üè¢</span>
                    <span class="text">Obras</span>
                </div>
                <div class="submenu-item" onclick="showTab('empresas')">
                    <span class="icon">üèõÔ∏è</span>
                    <span class="text">Empresas</span>
                </div>
                <div class="submenu-item" onclick="showTab('avaliacoes')">
                    <span class="icon">‚≠ê</span>
                    <span class="text">Avalia√ß√µes</span>
                </div>
                <div class="submenu-item" onclick="showTab('projetos')">
                    <span class="icon">üöß</span>
                    <span class="text">Projetos</span>
                </div>
                <div class="submenu-item" onclick="showTab('usuarios')">
                    <span class="icon">ÔøΩ</span>
                    <span class="text">Usu√°rios</span>
                </div>
            </div>
            
            <div class="sidebar-item" onclick="showTab('base')">
                <span class="icon">ÔøΩ</span>
                <span class="text">BASE</span>
            </div>
            
            <div class="sidebar-item" onclick="showTab('tarefas')">
                <span class="icon">üìã</span>
                <span class="text">Tarefas</span>
            </div>

            <div class="sidebar-item" onclick="showTab('relatorios')">
                <span class="icon">üìä</span>
                <span class="text">Relat√≥rios</span>
            </div>

            <div class="sidebar-item" onclick="showTab('configuracoes')">
                <span class="icon">‚öôÔ∏è</span>
                <span class="text">Configura√ß√µes</span>
            </div>

            <div class="sidebar-item" onclick="showTab('permissoes')">
                <span class="icon">üîê</span>
                <span class="text">Permiss√µes</span>
            </div>

            <div class="sidebar-item" onclick="showTab('backup')">
                <span class="icon">üíæ</span>
                <span class="text">Backup</span>
            </div>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <div class="container-fluid">
        <!-- Aba Dashboard -->
        <div id="dashboard" class="tab-content active">
            <!-- Header de Boas-Vindas -->
            <div class="dash-header">
                <div class="dash-header-content">
                    <h1 class="dash-title">üåü Bem-vindo!</h1>
                    <div class="dash-datetime" id="dash-datetime">Carregando...</div>
                    <div class="dash-summary" id="dash-summary">
                        <span id="dash-summary-obras">-</span> ‚Ä¢ 
                        <span id="dash-summary-func">-</span> ‚Ä¢ 
                        <span id="dash-summary-ausentes">-</span>
                    </div>
                </div>
                <div class="dash-sync-indicator" id="dash-sync" title="Sincronizado">
                    <span class="sync-dot"></span>
                </div>
            </div>

            <!-- Cards de M√©tricas Principais (4 cards) -->
            <div class="dash-metrics-grid">
                <!-- Card 1: Custo do M√™s -->
                <div class="dash-metric-card">
                    <div class="metric-icon">üí∞</div>
                    <div class="metric-content">
                        <div class="metric-label">CUSTO DO M√äS</div>
                        <div class="metric-value" id="metric-custo">R$ 0,00</div>
                        <div class="metric-change" id="metric-custo-change">
                            <span class="change-badge">+0%</span> vs m√™s anterior
                        </div>
                    </div>
                    <button class="metric-link" onclick="abrirDetalheCusto()">ver detalhes ‚Üó</button>
                </div>

                <!-- Card 2: Funcion√°rios Ativos -->
                <div class="dash-metric-card">
                    <div class="metric-icon">üë∑</div>
                    <div class="metric-content">
                        <div class="metric-label">ATIVOS HOJE</div>
                        <div class="metric-value" id="metric-ativos">0/0</div>
                        <div class="metric-change" id="metric-ativos-ausentes">
                            <span class="ausentes-count">0 ausentes</span>
                        </div>
                    </div>
                    <button class="metric-link" onclick="abrirListaFuncionarios()">ver lista ‚Üó</button>
                </div>

                <!-- Card 3: Obras em Andamento -->
                <div class="dash-metric-card">
                    <div class="metric-icon">üèóÔ∏è</div>
                    <div class="metric-content">
                        <div class="metric-label">OBRAS</div>
                        <div class="metric-value" id="metric-obras">0 em andamento</div>
                        <div class="metric-change" id="metric-obras-atrasadas">
                            <span class="atrasadas-badge">0 atrasadas</span>
                        </div>
                    </div>
                    <button class="metric-link" onclick="abrirCronogramaObras()">ver cronograma ‚Üó</button>
                </div>

                <!-- Card 4: Horas Hoje -->
                <div class="dash-metric-card">
                    <div class="metric-icon">‚è±Ô∏è</div>
                    <div class="metric-content">
                        <div class="metric-label">HORAS HOJE</div>
                        <div class="metric-value" id="metric-horas">0h</div>
                        <div class="metric-change" id="metric-lancamentos">
                            <span class="lancamentos-count">0 lan√ßamentos</span>
                        </div>
                    </div>
                    <button class="metric-link" onclick="abrirLancamentosHoje()">ver lan√ßamentos ‚Üó</button>
                </div>
            </div>

            <!-- Grid de Gr√°ficos e Pain√©is -->
            <div class="dash-charts-grid">
                <!-- Gr√°fico: Horas por Obra -->
                <div class="dash-chart-card dash-chart-large">
                    <h3 class="chart-title">üìä HORAS POR OBRA (√∫ltimos 30 dias)</h3>
                    <div id="chart-horas-obra" class="chart-bars-horizontal">
                        <!-- Barras horizontais ser√£o inseridas aqui -->
                    </div>
                </div>

                <!-- Painel: Top Funcion√°rios -->
                <div class="dash-chart-card dash-chart-small">
                    <h3 class="chart-title">üèÜ TOP FUNCION√ÅRIOS (este m√™s)</h3>
                    <div id="top-funcionarios-list" class="top-funcionarios">
                        <!-- Lista de top funcion√°rios ser√° inserida aqui -->
                    </div>
                    <button class="metric-link" style="margin-top: 1rem;" onclick="mostrarAba('funcionarios')">+ ver todos</button>
                </div>

                <!-- Cronograma Semanal -->
                <div class="dash-chart-card dash-chart-large">
                    <h3 class="chart-title">üìÖ CRONOGRAMA SEMANAL</h3>
                    <div id="cronograma-semanal" class="cronograma-grid">
                        <!-- Grid de 7 dias ser√° inserido aqui -->
                    </div>
                    <div class="cronograma-stats" id="cronograma-stats">
                        M√©dia di√°ria: <strong>0h</strong> | Pico: <strong>-</strong>
                    </div>
                </div>

                <!-- Alertas e Pend√™ncias -->
                <div class="dash-chart-card dash-chart-small">
                    <h3 class="chart-title">üö® ALERTAS E PEND√äNCIAS</h3>
                    <div id="alertas-list" class="alertas-container">
                        <!-- Alertas ser√£o inseridos aqui -->
                    </div>
                    <button class="metric-link" style="margin-top: 1rem;" onclick="verTodosAlertas()">+ ver todos alertas</button>
                </div>
            </div>

            <!-- Atividade Recente -->
            <div class="dash-activity-section">
                <h3 class="chart-title">üìã ATIVIDADE RECENTE (√∫ltimos 10 lan√ßamentos)</h3>
                <div class="activity-filters">
                    <button class="filter-pill active" data-filter="hoje">Hoje</button>
                    <button class="filter-pill" data-filter="semana">Esta semana</button>
                    <button class="filter-pill" data-filter="mes">Este m√™s</button>
                    <button class="filter-pill" data-filter="todas">Todas</button>
                </div>
                <div id="atividade-recente" class="activity-list">
                    <!-- Atividades ser√£o inseridas aqui -->
                </div>
                <button class="load-more-btn" id="load-more-activities" onclick="carregarMaisAtividades()">
                    Carregar mais 10 atividades ‚Üì
                </button>
            </div>
        </div>

        <!-- Aba Lan√ßamentos Di√°rios -->
        <div id="lancamentos" class="tab-content">
            <h2 class="section-title">Lan√ßamentos Di√°rios</h2>
            <div class="alert alert-info">
                <strong>üí° Dica:</strong> Digite 08:00 para oito horas; 04:00 para meio turno.
            </div>
            
            <form id="form-lancamento">
                <div class="form-row">
                    <div class="form-group">
                        <label for="lancamento-data">Data</label>
                        <input type="date" id="lancamento-data" required>
                    </div>
                    <div class="form-group">
                        <label for="lancamento-funcionario">Funcion√°rio</label>
                        <select id="lancamento-funcionario" required>
                            <option value="">Selecione...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="lancamento-funcao">Fun√ß√£o</label>
                        <select id="lancamento-funcao" required>
                            <option value="">Selecione...</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="lancamento-empresa">Empresa</label>
                        <input type="text" id="lancamento-empresa" readonly>
                    </div>
                    <div class="form-group">
                        <label for="lancamento-obra">Obra</label>
                        <select id="lancamento-obra" required>
                            <option value="">Selecione...</option>
                        </select>
                    </div>
                    <div class="form-group" id="campo-horas">
                        <label for="lancamento-horas">Horas (HH:MM)</label>
                        <input type="time" id="lancamento-horas" value="08:00">
                    </div>
                </div>

                <div class="form-group">
                    <label for="lancamento-observacao">Observa√ß√£o</label>
                    <textarea id="lancamento-observacao" rows="2" placeholder="Observa√ß√µes opcionais..."></textarea>
                </div>

                <button type="submit" class="btn btn-success">‚ûï Adicionar Lan√ßamento</button>
            </form>

            <!-- Controles de Filtros e Pagina√ß√£o -->
            <div class="lancamentos-controls">
                <div class="lanc-toolbar">
                    <button id="toggle-filtros" class="btn-icon" title="Filtros">üîç Filtros</button>
                    <div class="spacer"></div>
                    <label class="page-size-label" for="tabela-lancamentos-page-size">Exibir:</label>
                    <select id="tabela-lancamentos-page-size" class="ctrl-select mini">
                        <option value="25">25 por p√°gina</option>
                        <option value="50" selected>50 por p√°gina</option>
                        <option value="100">100 por p√°gina</option>
                        <option value="200">200 por p√°gina</option>
                        <option value="500">500 por p√°gina</option>
                    </select>
                    <div id="lanc-paginacao" class="pagination-container compact"></div>
                </div>
                <div id="lanc-filtros-panel" class="filters-panel collapsed">
                    <div class="filters-row">
                        <div class="filter-item">
                            <span class="filter-label">Data inicial</span>
                            <input type="date" id="lanc-data-inicio" class="ctrl-input" />
                        </div>
                        <div class="filter-item">
                            <span class="filter-label">Data final</span>
                            <input type="date" id="lanc-data-fim" class="ctrl-input" />
                        </div>
                        <div class="filter-item">
                            <span class="filter-label">Funcion√°rio</span>
                            <select id="lanc-filtro-funcionario" class="ctrl-select">
                                <option value="">Todos os funcion√°rios</option>
                            </select>
                        </div>
                        <div class="filter-item">
                            <span class="filter-label">Fun√ß√£o</span>
                            <select id="lanc-filtro-funcao" class="ctrl-select">
                                <option value="">Todas as fun√ß√µes</option>
                            </select>
                        </div>
                        <div class="filter-item">
                            <span class="filter-label">Empresa</span>
                            <select id="lanc-filtro-empresa" class="ctrl-select">
                                <option value="">Todas as empresas</option>
                            </select>
                        </div>
                        <div class="filter-item">
                            <span class="filter-label">Obra</span>
                            <select id="lanc-filtro-obra" class="ctrl-select">
                                <option value="">Todas as obras</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th id="th-data" class="sortable">Data</th>
                            <th id="th-funcionario" class="sortable">Funcion√°rio</th>
                            <th id="th-funcao" class="sortable">Fun√ß√£o</th>
                            <th id="th-empresa" class="sortable">Empresa</th>
                            <th id="th-obra" class="sortable">Obra</th>
                            <th id="th-horas" class="sortable">Horas</th>
                            <th>Observa√ß√£o</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="tabela-lancamentos"></tbody>
                </table>
            </div>

            <!-- Modal de Edi√ß√£o de Lan√ßamento -->
            <div id="modal-editar-lancamento" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>‚úèÔ∏è Editar Lan√ßamento</h2>
                        <button class="modal-close" onclick="fecharModalLancamento()">&times;</button>
                    </div>
                    <form id="form-editar-lancamento" onsubmit="salvarEdicaoLancamento(event)">
                        <input type="hidden" id="edit-lancamento-id">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-lancamento-data">Data</label>
                                <input type="date" id="edit-lancamento-data" required>
                            </div>
                            <div class="form-group">
                                <label for="edit-lancamento-funcionario">Funcion√°rio</label>
                                <select id="edit-lancamento-funcionario" required>
                                    <option value="">Selecione...</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-lancamento-funcao">Fun√ß√£o</label>
                                <select id="edit-lancamento-funcao" required>
                                    <option value="">Selecione...</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="edit-lancamento-empresa">Empresa</label>
                                <select id="edit-lancamento-empresa">
                                    <option value="">Selecione...</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-lancamento-obra">Obra</label>
                                <select id="edit-lancamento-obra">
                                    <option value="">Selecione...</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="edit-lancamento-horas">Horas</label>
                                <input type="time" id="edit-lancamento-horas" value="08:00">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-lancamento-observacao">Observa√ß√£o</label>
                                <input type="text" id="edit-lancamento-observacao">
                            </div>
                        </div>
                        <div class="modal-actions">
                            <button type="submit" class="btn btn-primary">üíæ Salvar Altera√ß√µes</button>
                            <button type="button" class="btn btn-danger" onclick="fecharModalLancamento()">‚ùå Cancelar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Aba Funcion√°rios -->
        <div id="funcionarios" class="tab-content">
            <h2 class="section-title">Funcion√°rios</h2>
            
            <form id="form-funcionario">
                <div class="form-row">
                    <div class="form-group">
                        <label for="funcionario-nome">Nome do Funcion√°rio</label>
                        <input type="text" id="funcionario-nome" required>
                    </div>
                    <div class="form-group">
                        <label for="funcionario-funcao">Fun√ß√£o</label>
                        <select id="funcionario-funcao" required>
                            <option value="">Selecione...</option>
                            <option value="SERVENTE">SERVENTE</option>
                            <option value="PEDREIRO 01">PEDREIRO 01</option>
                            <option value="PEDREIRO 02">PEDREIRO 02</option>
                            <option value="PEDREIRO 03">PEDREIRO 03</option>
                            <option value="PINTOR">PINTOR</option>
                            <option value="PINTOR CHEFE">PINTOR CHEFE</option>
                            <option value="ARMADOR">ARMADOR</option>
                            <option value="CARPINTEIRO">CARPINTEIRO</option>
                            <option value="MEIO-OFICIAL">MEIO-OFICIAL</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="funcionario-empresa">Empresa</label>
                        <select id="funcionario-empresa" required>
                            <option value="">Selecione...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="funcionario-situacao">Situa√ß√£o</label>
                        <select id="funcionario-situacao" required>
                            <option value="">Selecione...</option>
                            <option value="Ativo">Ativo</option>
                            <option value="Inativo">Inativo</option>
                        </select>
                    </div>
                </div>
                
                <button type="submit" class="btn btn-success">‚ûï Adicionar Funcion√°rio</button>
            </form>

            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Funcion√°rio</th>
                            <th>Fun√ß√£o</th>
                            <th>Empresa</th>
                            <th>Situa√ß√£o</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="tabela-funcionarios"></tbody>
                </table>
            </div>

            <!-- Modal de Edi√ß√£o de Funcion√°rio -->
            <div id="modal-editar-funcionario" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>‚úèÔ∏è Editar Funcion√°rio</h2>
                        <button class="modal-close" onclick="fecharModalFuncionario()">&times;</button>
                    </div>
                    <form id="form-editar-funcionario" onsubmit="salvarEdicaoFuncionario(event)">
                        <input type="hidden" id="edit-funcionario-id">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-funcionario-nome">Nome do Funcion√°rio</label>
                                <input type="text" id="edit-funcionario-nome" required>
                            </div>
                            <div class="form-group">
                                <label for="edit-funcionario-funcao">Fun√ß√£o</label>
                                <select id="edit-funcionario-funcao" required>
                                    <option value="SERVENTE">SERVENTE</option>
                                    <option value="PEDREIRO 01">PEDREIRO 01</option>
                                    <option value="PEDREIRO 02">PEDREIRO 02</option>
                                    <option value="PEDREIRO 03">PEDREIRO 03</option>
                                    <option value="PINTOR">PINTOR</option>
                                    <option value="PINTOR CHEFE">PINTOR CHEFE</option>
                                    <option value="ARMADOR">ARMADOR</option>
                                    <option value="CARPINTEIRO">CARPINTEIRO</option>
                                    <option value="MEIO-OFICIAL">MEIO-OFICIAL</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-funcionario-empresa">Empresa</label>
                                <select id="edit-funcionario-empresa" required>
                                    <option value="">Selecione...</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="edit-funcionario-situacao">Situa√ß√£o</label>
                                <select id="edit-funcionario-situacao" required>
                                    <option value="">Selecione...</option>
                                    <option value="Ativo">Ativo</option>
                                    <option value="Inativo">Inativo</option>
                                </select>
                            </div>
                        </div>
                        <div class="modal-actions">
                            <button type="submit" class="btn btn-primary">üíæ Salvar Altera√ß√µes</button>
                            <button type="button" class="btn btn-danger" onclick="fecharModalFuncionario()">‚ùå Cancelar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Aba Obras -->
        <div id="obras" class="tab-content">
            <h2 class="section-title">Obras</h2>
            
            <form id="form-obra">
                <div class="form-row">
                    <div class="form-group">
                        <label for="obra-nome">Nome da Obra</label>
                        <input type="text" id="obra-nome" required>
                    </div>
                    <div class="form-group">
                        <label for="obra-responsavel">Respons√°vel</label>
                        <input type="text" id="obra-responsavel" required>
                    </div>
                    <div class="form-group">
                        <label for="obra-cidade">Cidade</label>
                        <input type="text" id="obra-cidade" required>
                    </div>
                </div>
                
                <button type="submit" class="btn btn-success">‚ûï Adicionar Obra</button>
            </form>

            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Obra</th>
                            <th>Respons√°vel</th>
                            <th>Cidade</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="tabela-obras"></tbody>
                </table>
            </div>

            <!-- Modal de Edi√ß√£o de Obra -->
            <div id="modal-editar-obra" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>‚úèÔ∏è Editar Obra</h2>
                        <button class="modal-close" onclick="fecharModalObra()">&times;</button>
                    </div>
                    <form id="form-editar-obra" onsubmit="salvarEdicaoObra(event)">
                        <input type="hidden" id="edit-obra-id">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-obra-nome">Nome da Obra</label>
                                <input type="text" id="edit-obra-nome" required>
                            </div>
                            <div class="form-group">
                                <label for="edit-obra-responsavel">Respons√°vel</label>
                                <input type="text" id="edit-obra-responsavel">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="edit-obra-cidade">Cidade</label>
                            <input type="text" id="edit-obra-cidade">
                        </div>
                        <div class="modal-actions">
                            <button type="submit" class="btn btn-primary">üíæ Salvar Altera√ß√µes</button>
                            <button type="button" class="btn btn-danger" onclick="fecharModalObra()">‚ùå Cancelar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Aba Empresas -->
        <div id="empresas" class="tab-content">
            <h2 class="section-title">Empresas</h2>
            
            <form id="form-empresa">
                <div class="form-row">
                    <div class="form-group">
                        <label for="empresa-nome">Nome da Empresa</label>
                        <input type="text" id="empresa-nome" required>
                    </div>
                    <div class="form-group">
                        <label for="empresa-cnpj">CNPJ</label>
                        <input type="text" id="empresa-cnpj" required placeholder="00.000.000/0001-00">
                    </div>
                    <div class="form-group">
                        <label for="empresa-tipo">Tipo</label>
                        <select id="empresa-tipo" required>
                            <option value="">Selecione...</option>
                            <option value="Construtora">Construtora</option>
                            <option value="SPE">SPE</option>
                            <option value="Servi√ßos">Servi√ßos</option>
                            <option value="Outros">Outros</option>
                        </select>
                    </div>
                </div>
                
                <button type="submit" class="btn btn-success">‚ûï Adicionar Empresa</button>
            </form>

            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Nome da Empresa</th>
                            <th>CNPJ</th>
                            <th>Tipo</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="tabela-empresas"></tbody>
                </table>
            </div>

            <!-- Modal de Edi√ß√£o de Empresa -->
            <div id="modal-editar-empresa" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>‚úèÔ∏è Editar Empresa</h2>
                        <button class="modal-close" onclick="fecharModalEmpresa()">&times;</button>
                    </div>
                    <form id="form-editar-empresa" onsubmit="salvarEdicaoEmpresa(event)">
                        <input type="hidden" id="edit-empresa-id">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-empresa-nome">Nome da Empresa</label>
                                <input type="text" id="edit-empresa-nome" required>
                            </div>
                            <div class="form-group">
                                <label for="edit-empresa-cnpj">CNPJ</label>
                                <input type="text" id="edit-empresa-cnpj">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="edit-empresa-tipo">Tipo</label>
                            <select id="edit-empresa-tipo" required>
                                <option value="Construtora">Construtora</option>
                                <option value="Subempreiteira">Subempreiteira</option>
                                <option value="Fornecedor">Fornecedor</option>
                                <option value="Outro">Outro</option>
                            </select>
                        </div>
                        <div class="modal-actions">
                            <button type="submit" class="btn btn-primary">üíæ Salvar Altera√ß√µes</button>
                            <button type="button" class="btn btn-danger" onclick="fecharModalEmpresa()">‚ùå Cancelar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>



        <!-- Aba BASE -->
        <div id="base" class="tab-content">
            <h2 class="section-title">BASE - Consolida√ß√£o Autom√°tica</h2>
            <p class="alert alert-info">Esta aba consolida automaticamente os dados dos Lan√ßamentos Di√°rios.</p>
            
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Origem</th>
                            <th>Data</th>
                            <th>Funcion√°rio</th>
                            <th>Fun√ß√£o</th>
                            <th>Empresa</th>
                            <th>Obra</th>
                            <th>Horas</th>
                            <th>M√™s</th>
                        </tr>
                    </thead>
                    <tbody id="tabela-base"></tbody>
                </table>
            </div>
        </div>

        <!-- Aba Tarefas (Kanban) -->
        <div id="tarefas" class="tab-content">
            <div class="page-header">
                <h2 class="section-title">üìã Tarefas e Agenda</h2>
                <button id="btn-nova-tarefa" class="btn btn-primary">‚ûï Nova Tarefa</button>
            </div>

            <!-- Contador de resultados -->
            <div style="margin: 15px 0; text-align: center; color: #666;">
                <span id="tarefas-contador">0 tarefas</span>
            </div>

            <!-- Painel de Filtros -->
            <div id="tarefas-filtros"></div>

            <!-- Kanban Board -->
            <div id="kanban-board"></div>
        </div>

        <!-- Aba Relat√≥rios -->
        <div id="relatorios" class="tab-content">
            <div class="rel-container">
                <!-- Header com t√≠tulo e a√ß√µes -->
                <div class="rel-header">
                    <div>
                        <h2 class="section-title" style="margin: 0;">üìä Relat√≥rio Inteligente</h2>
                        <p class="rel-subtitle">An√°lise visual de horas trabalhadas</p>
                    </div>
                    <div class="rel-actions">
                        <button class="btn btn-secondary" id="btn-exportar-relatorio">
                            <span>üì• Exportar</span>
                        </button>
                        <button class="btn btn-secondary" id="btn-imprimir-relatorio">
                            <span>üñ®Ô∏è Imprimir</span>
                        </button>
                    </div>
                </div>

                <!-- Cards de estat√≠sticas -->
                <div class="rel-stats-grid">
                    <div class="rel-stat-card">
                        <div class="rel-stat-icon">üë•</div>
                        <div class="rel-stat-content">
                            <div class="rel-stat-value" id="rel-total-funcionarios">0</div>
                            <div class="rel-stat-label">Funcion√°rios</div>
                        </div>
                    </div>
                    <div class="rel-stat-card">
                        <div class="rel-stat-icon">üè¢</div>
                        <div class="rel-stat-content">
                            <div class="rel-stat-value" id="rel-total-obras">0</div>
                            <div class="rel-stat-label">Obras</div>
                        </div>
                    </div>
                    <div class="rel-stat-card rel-stat-card-highlight">
                        <div class="rel-stat-icon">‚è±Ô∏è</div>
                        <div class="rel-stat-content">
                            <div class="rel-stat-value" id="rel-total-horas">0h</div>
                            <div class="rel-stat-label">Total de Horas</div>
                        </div>
                    </div>
                    <div class="rel-stat-card">
                        <div class="rel-stat-icon">üìã</div>
                        <div class="rel-stat-content">
                            <div class="rel-stat-value" id="rel-total-lancamentos">0</div>
                            <div class="rel-stat-label">Lan√ßamentos</div>
                        </div>
                    </div>
                </div>

                <!-- Seletor de per√≠odo -->
                <div class="rel-periodo-section">
                    <label class="rel-periodo-label">üìÖ Per√≠odo</label>
                    <div class="rel-periodo-presets">
                        <button class="rel-preset-btn active" data-preset="7dias">√öltimos 7 dias</button>
                        <button class="rel-preset-btn" data-preset="mes">Este m√™s</button>
                        <button class="rel-preset-btn" data-preset="custom">Personalizado</button>
                    </div>
                    <div class="rel-periodo-custom" id="rel-periodo-custom" style="display: none;">
                        <input type="date" id="rel-data-inicio" class="rel-date-input">
                        <span style="color: #666; margin: 0 0.5rem;">at√©</span>
                        <input type="date" id="rel-data-fim" class="rel-date-input">
                        <button class="btn btn-primary btn-sm" id="btn-aplicar-periodo">Aplicar</button>
                    </div>
                </div>

                <!-- Seletor de visualiza√ß√£o (tabs) -->
                <div class="rel-view-selector">
                    <button class="view-tab active" data-view="top-funcionarios">
                        <span class="view-tab-icon">üèÜ</span>
                        <span class="view-tab-label">Top Funcion√°rios</span>
                    </button>
                    <button class="view-tab" data-view="por-obra">
                        <span class="view-tab-icon">üè¢</span>
                        <span class="view-tab-label">Por Obra</span>
                    </button>
                    <button class="view-tab" data-view="por-dia">
                        <span class="view-tab-icon">üìÖ</span>
                        <span class="view-tab-label">Por Dia</span>
                    </button>
                </div>

                <!-- Se√ß√£o de filtros com chips -->
                <div class="rel-filters-section">
                    <div class="rel-filters-header">
                        <label>üîç Filtros</label>
                        <button class="btn-add-filter" id="btn-add-filter">+ Adicionar filtro</button>
                    </div>
                    <div class="rel-chips-container" id="rel-chips-container">
                        <!-- Chips din√¢micos ser√£o inseridos aqui -->
                    </div>
                </div>

                <!-- √Årea de visualiza√ß√£o -->
                <div class="rel-visualization-area" id="rel-visualization-area">
                    <!-- Conte√∫do din√¢mico das visualiza√ß√µes -->
                </div>
            </div>
        </div>

        <!-- Aba Avalia√ß√µes -->
        <div id="avaliacoes" class="tab-content">
            <div class="aval-container">
                <!-- Header com t√≠tulo e a√ß√µes -->
                <div class="aval-header">
                    <div>
                        <h2 class="section-title" style="margin: 0;">‚≠ê Avalia√ß√£o de Desempenho</h2>
                        <p class="aval-subtitle">Acompanhe e melhore a performance da sua equipe</p>
                    </div>
                    <div class="aval-actions">
                        <button class="btn btn-secondary" id="btn-exportar-avaliacoes">
                            <span>üì• Exportar</span>
                        </button>
                        <button class="btn btn-secondary" id="btn-imprimir-avaliacoes">
                            <span>üñ®Ô∏è Imprimir</span>
                        </button>
                    </div>
                </div>

                <!-- Cards de estat√≠sticas -->
                <div class="aval-stats-grid">
                    <div class="aval-stat-card">
                        <div class="aval-stat-icon">üë•</div>
                        <div class="aval-stat-content">
                            <div class="aval-stat-value" id="aval-total-funcionarios">0</div>
                            <div class="aval-stat-label">Total de Pessoas</div>
                        </div>
                    </div>
                    <div class="aval-stat-card">
                        <div class="aval-stat-icon">‚≠ê</div>
                        <div class="aval-stat-content">
                            <div class="aval-stat-value" id="aval-media-geral">0.0</div>
                            <div class="aval-stat-label">M√©dia Geral</div>
                        </div>
                    </div>
                    <div class="aval-stat-card aval-stat-card-success">
                        <div class="aval-stat-icon">üìà</div>
                        <div class="aval-stat-content">
                            <div class="aval-stat-value" id="aval-melhoria">+0.0</div>
                            <div class="aval-stat-label">Melhoria</div>
                        </div>
                    </div>
                    <div class="aval-stat-card aval-stat-card-warning">
                        <div class="aval-stat-icon">‚ö†Ô∏è</div>
                        <div class="aval-stat-content">
                            <div class="aval-stat-value" id="aval-atencao">0</div>
                            <div class="aval-stat-label">Precisam Aten√ß√£o</div>
                        </div>
                    </div>
                </div>

                <!-- Se√ß√£o de sele√ß√£o de funcion√°rios -->
                <div class="aval-selecao-section">
                    <div class="aval-selecao-header">
                        <h3>‚úèÔ∏è Fazer Nova Avalia√ß√£o</h3>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <select id="aval-select-funcionario" class="aval-search-input" style="flex: 1;">
                                <option value="">üë§ Selecione um funcion√°rio...</option>
                            </select>
                            <input type="text" id="aval-search-funcionario" placeholder="üîç Ou buscar por nome..." class="aval-search-input" style="flex: 1;">
                        </div>
                    </div>
                    
                    <div class="aval-funcionarios-grid" id="aval-funcionarios-grid">
                        <!-- Cards de funcion√°rios ser√£o inseridos aqui -->
                    </div>
                </div>

                <!-- Formul√°rio de avalia√ß√£o (inicialmente oculto) -->
                <div class="aval-form-section" id="aval-form-section" style="display: none;">
                    <!-- Conte√∫do do formul√°rio ser√° inserido aqui -->
                </div>

                <!-- Hist√≥rico de avalia√ß√µes -->
                <div class="aval-historico-section">
                    <h3 class="section-title">üìä Hist√≥rico de Avalia√ß√µes</h3>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Funcion√°rio</th>
                                    <th>Data</th>
                                    <th>Per√≠odo</th>
                                    <th>M√©dia Geral</th>
                                    <th>Status</th>
                                    <th>A√ß√µes</th>
                            </tr>
                        </thead>
                        <tbody id="tabela-avaliacoes"></tbody>
                    </table>
                </div>
            </div>
            </div>
        </div>

        <!-- Aba Projetos -->
        <div id="projetos" class="tab-content">
            <h2 class="section-title">üöß Gest√£o de Projetos</h2>
            
            <form id="form-projeto">
                <div class="form-row">
                    <div class="form-group">
                        <label for="projeto-nome">Nome do Projeto</label>
                        <input type="text" id="projeto-nome" required>
                    </div>
                    <div class="form-group">
                        <label for="projeto-cliente">Cliente</label>
                        <input type="text" id="projeto-cliente" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="projeto-inicio">Data de In√≠cio</label>
                        <input type="date" id="projeto-inicio" required>
                    </div>
                    <div class="form-group">
                        <label for="projeto-prazo">Prazo Final</label>
                        <input type="date" id="projeto-prazo" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="projeto-orcamento">Or√ßamento</label>
                        <input type="number" id="projeto-orcamento" step="0.01" min="0">
                    </div>
                    <div class="form-group">
                        <label for="projeto-status">Status</label>
                        <select id="projeto-status" required>
                            <option value="planejamento">Planejamento</option>
                            <option value="em-andamento">Em Andamento</option>
                            <option value="pausado">Pausado</option>
                            <option value="concluido">Conclu√≠do</option>
                            <option value="cancelado">Cancelado</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="projeto-descricao">Descri√ß√£o do Projeto</label>
                    <textarea id="projeto-descricao" rows="3" placeholder="Descreva o projeto, objetivos e escopo..."></textarea>
                </div>
                
                <button type="submit" class="btn btn-success">‚ûï Criar Projeto</button>
            </form>

            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Projeto</th>
                            <th>Cliente</th>
                            <th>In√≠cio</th>
                            <th>Prazo</th>
                            <th>Or√ßamento</th>
                            <th>Status</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="tabela-projetos"></tbody>
                </table>
            </div>
        </div>

        <!-- Aba Usu√°rios -->
        <!-- Aba Usu√°rios (Sistema de Autentica√ß√£o) -->
        <div id="usuarios" class="tab-content">
            <h2>üë§ Gerenciamento de Usu√°rios</h2>

            <!-- Tabs secund√°rias -->
            <div class="tabs-secondary">
                <button class="tab-btn active" onclick="showSubTab('usuarios-lista')">
                    üìã Lista de Usu√°rios
                </button>
                <button class="tab-btn" onclick="showSubTab('usuarios-adicionar')">
                    ‚ûï Adicionar Usu√°rio
                </button>
            </div>

            <!-- Sub-tab: Lista -->
            <div id="usuarios-lista" class="sub-tab-content active">
                <div class="card">
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Email</th>
                                    <th>Usu√°rio</th>
                                    <th>Tipo</th>
                                    <th>Status</th>
                                    <th>√öltimo Login</th>
                                    <th class="th-acoes">A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="usuarios-tbody">
                                <tr>
                                    <td colspan="7" style="text-align: center; padding: 2rem;">
                                        Carregando usu√°rios...
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Sub-tab: Adicionar -->
            <div id="usuarios-adicionar" class="sub-tab-content">
                <div class="card">
                    <h3>‚ûï Adicionar Novo Usu√°rio</h3>

                    <form id="form-add-usuario">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="add-nome">Nome Completo *</label>
                                <input type="text" id="add-nome" name="nome" required placeholder="Ex: Jo√£o da Silva" />
                            </div>

                            <div class="form-group">
                                <label for="add-email">Email *</label>
                                <input type="email" id="add-email" name="email" required placeholder="Ex: joao@empresa.com" />
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="add-usuario">Usu√°rio (Login) *</label>
                                <input type="text" id="add-usuario" name="usuario" required placeholder="Ex: joao.silva" />
                            </div>

                            <div class="form-group">
                                <label for="add-senha">Senha *</label>
                                <input type="password" id="add-senha" name="senha" required placeholder="M√≠nimo 6 caracteres" minlength="6" />
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="add-tipo">Tipo de Usu√°rio *</label>
                                <select id="add-tipo" name="tipo" required>
                                    <option value="usuario">üë§ Usu√°rio</option>
                                    <option value="admin">üëë Administrador</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="add-ativo">Status *</label>
                                <select id="add-ativo" name="ativo" required>
                                    <option value="Sim">‚úì Ativo</option>
                                    <option value="N√£o">‚úó Inativo</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">
                                üíæ Criar Usu√°rio
                            </button>
                            <button type="reset" class="btn btn-secondary">
                                üîÑ Limpar
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Modal de Edi√ß√£o de Usu√°rio -->
        <div id="modal-edit-usuario" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>‚úèÔ∏è Editar Usu√°rio</h3>
                    <button class="modal-close" onclick="closeModal('modal-edit-usuario')">√ó</button>
                </div>

                <form id="form-edit-usuario">
                    <input type="hidden" id="edit-usuario-id" name="id" />

                    <div class="form-group">
                        <label for="edit-nome">Nome Completo *</label>
                        <input type="text" id="edit-nome" name="nome" required />
                    </div>

                    <div class="form-group">
                        <label for="edit-email">Email *</label>
                        <input type="email" id="edit-email" name="email" required />
                    </div>

                    <div class="form-group">
                        <label for="edit-usuario">Usu√°rio (Login) *</label>
                        <input type="text" id="edit-usuario" name="usuario" required />
                    </div>

                    <div class="form-group">
                        <label for="edit-senha">Nova Senha (deixe em branco para manter)</label>
                        <input type="password" id="edit-senha" name="senha" placeholder="M√≠nimo 6 caracteres" minlength="6" />
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-tipo">Tipo de Usu√°rio *</label>
                            <select id="edit-tipo" name="tipo" required>
                                <option value="usuario">üë§ Usu√°rio</option>
                                <option value="admin">üëë Administrador</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="edit-ativo">Status *</label>
                            <select id="edit-ativo" name="ativo" required>
                                <option value="Sim">‚úì Ativo</option>
                                <option value="N√£o">‚úó Inativo</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">
                            üíæ Salvar Altera√ß√µes
                        </button>
                        <button type="button" class="btn btn-secondary" onclick="closeModal('modal-edit-usuario')">
                            ‚ùå Cancelar
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Aba Permiss√µes -->
        <div id="permissoes" class="tab-content">
            <div class="permissoes-layout">
                <!-- Coluna Esquerda: Usu√°rios -->
                <div class="permissoes-usuarios-panel">
                    <div class="panel-header">
                        <h2>
                            <span class="icon">üë§</span>
                            Gerenciar Usu√°rios
                        </h2>
                        <button class="btn btn-primary" onclick="abrirModalNovoUsuario()">
                            <span>‚ûï</span> Novo Usu√°rio
                        </button>
                    </div>

                    <div class="search-box">
                        <input type="text"
                               id="buscar-usuario"
                               class="form-control"
                               placeholder="üîç Buscar por nome ou username...">
                    </div>

                    <div id="lista-usuarios" class="usuarios-grid">
                        <!-- Cards de usu√°rios renderizados dinamicamente -->
                    </div>
                </div>

                <!-- Coluna Direita: Permiss√µes -->
                <div class="permissoes-controle-panel">
                    <div class="panel-header">
                        <h2>
                            <span class="icon">üîê</span>
                            Permiss√µes de Acesso
                        </h2>
                    </div>

                    <div id="permissoes-content">
                        <div class="empty-state">
                            <div class="empty-state-icon">üîê</div>
                            <h3>Selecione um usu√°rio</h3>
                            <p>Escolha um usu√°rio na lista ao lado para gerenciar suas permiss√µes de acesso aos m√≥dulos do sistema.</p>
                        </div>
                    </div>

                    <!-- Painel de Permiss√µes (renderizado dinamicamente) -->
                    <div id="permissoes-matrix" class="permissoes-matrix" style="display: none;">
                        <!-- Header com informa√ß√µes do usu√°rio -->
                        <div class="usuario-selecionado-info">
                            <div class="avatar">JS</div>
                            <div class="info">
                                <h3 id="perm-usuario-nome">Nome do Usu√°rio</h3>
                                <p id="perm-usuario-username">@username</p>
                            </div>
                        </div>

                        <!-- A√ß√µes r√°pidas -->
                        <div class="acoes-rapidas">
                            <button class="btn btn-sm btn-success" onclick="concederAcessoTotal()">
                                ‚òëÔ∏è Conceder Acesso Total
                            </button>
                            <button class="btn btn-sm btn-danger" onclick="revogarAcessoTotal()">
                                ‚òê Revogar Acesso Total
                            </button>
                        </div>

                        <!-- Tabela de Permiss√µes -->
                        <div class="table-container">
                            <table class="table table-permissoes">
                                <thead>
                                    <tr>
                                        <th>M√≥dulo</th>
                                        <th class="text-center">
                                            üëÅÔ∏è Visualizar
                                            <br>
                                            <input type="checkbox" onclick="toggleColuna('visualizar', this.checked)">
                                        </th>
                                        <th class="text-center">
                                            ‚ûï Criar
                                            <br>
                                            <input type="checkbox" onclick="toggleColuna('criar', this.checked)">
                                        </th>
                                        <th class="text-center">
                                            ‚úèÔ∏è Editar
                                            <br>
                                            <input type="checkbox" onclick="toggleColuna('editar', this.checked)">
                                        </th>
                                        <th class="text-center">
                                            üóëÔ∏è Excluir
                                            <br>
                                            <input type="checkbox" onclick="toggleColuna('excluir', this.checked)">
                                        </th>
                                    </tr>
                                </thead>
                                <tbody id="matriz-permissoes-body">
                                    <!-- Linhas renderizadas dinamicamente -->
                                </tbody>
                            </table>
                        </div>

                        <!-- Bot√£o Salvar -->
                        <div class="permissoes-footer">
                            <button class="btn btn-primary btn-lg" onclick="salvarPermissoes()">
                                üíæ Salvar Permiss√µes
                            </button>
                            <span class="save-status" id="save-status"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Aba Configura√ß√µes -->
        <div id="configuracoes" class="tab-content">
            <h2 class="section-title">‚öôÔ∏è Configura√ß√µes do Sistema</h2>
            
            <div class="config-grid">
                <div class="config-section">
                    <h3>üë§ Perfil do Usu√°rio</h3>
                    <div class="form-group">
                        <label for="config-nome-usuario">Nome do Usu√°rio</label>
                        <input type="text" id="config-nome-usuario" value="Viviane">
                    </div>
                    <div class="form-group">
                        <label for="config-empresa-principal">Empresa Principal</label>
                        <select id="config-empresa-principal">
                            <option value="">Selecione...</option>
                        </select>
                    </div>
                </div>

                <div class="config-section">
                    <h3>üé® Apar√™ncia</h3>
                    <div class="config-item">
                        <label>
                            <input type="checkbox" id="config-modo-escuro">
                            Modo Escuro (em breve)
                        </label>
                    </div>
                    <div class="config-item">
                        <label>
                            <input type="checkbox" id="config-animacoes" checked>
                            Anima√ß√µes e Transi√ß√µes
                        </label>
                    </div>
                </div>

                <div class="config-section">
                    <h3>üîî Notifica√ß√µes</h3>
                    <div class="config-item">
                        <label>
                            <input type="checkbox" id="config-notif-lancamentos" checked>
                            Lembrar de fazer lan√ßamentos di√°rios
                        </label>
                    </div>
                    <div class="config-item">
                        <label>
                            <input type="checkbox" id="config-notif-avaliacoes" checked>
                            Lembrar de avaliar funcion√°rios
                        </label>
                    </div>
                </div>

                <div class="config-section">
                    <h3>üíæ Dados e Backup</h3>
                    <div class="config-item">
                        <label>
                            <input type="checkbox" id="config-backup-auto">
                            Backup autom√°tico semanal
                        </label>
                    </div>
                    <div class="config-item">
                        <label>
                            <input type="checkbox" id="config-salvar-auto" checked>
                            Salvamento autom√°tico
                        </label>
                    </div>
                </div>
            </div>

            <div class="config-actions">
                <button class="btn btn-primary" onclick="salvarConfiguracoes()">üíæ Salvar Configura√ß√µes</button>
                <button class="btn btn-danger" onclick="resetarConfiguracoes()">üîÑ Restaurar Padr√£o</button>
            </div>
        </div>

        <!-- Aba Backup & Dados -->
        <div id="backup" class="tab-content">
            <h2 class="section-title">üíæ Backup & Gerenciamento de Dados</h2>
            
            <div class="backup-grid">
                <div class="backup-card">
                    <h3 class="backup-card-title">üì§ Exportar Dados</h3>
                    <p class="backup-card-description">Fa√ßa download de todos os seus dados em formato JSON</p>
                    <div class="backup-info">
                        <small>√öltimo backup: <span id="ultimo-backup">Nunca</span></small>
                    </div>
                    <button class="btn btn-primary" onclick="exportarDados()">
                        üì• Baixar Backup JSON
                    </button>
                </div>

                <div class="backup-card">
                    <h3 class="backup-card-title">üì• Importar Dados</h3>
                    <p class="backup-card-description">Restaure seus dados de um arquivo JSON</p>
                    <div class="file-input-container">
                        <input type="file" id="arquivo-import" accept=".json" class="file-input">
                        <label for="arquivo-import" class="file-input-label">
                            üìÅ Escolher arquivo JSON
                        </label>
                    </div>
                    <button class="btn btn-success" onclick="importarDados()">
                        üì§ Importar Dados
                    </button>
                </div>

                <div class="backup-card">
                    <h3 class="backup-card-title">üóëÔ∏è Limpar Dados</h3>
                    <p class="backup-card-description">Reset completo do sistema (cuidado!)</p>
                    <div class="backup-warning">
                        ‚ö†Ô∏è Esta a√ß√£o n√£o pode ser desfeita
                    </div>
                    <button class="btn btn-danger" onclick="limparTodosDados()">
                        üóëÔ∏è Limpar Tudo
                    </button>
                </div>

                <div class="backup-card">
                    <h3 class="backup-card-title">‚öôÔ∏è Configura√ß√µes</h3>
                    <p class="backup-card-description">Configura√ß√µes do sistema</p>
                    <div class="config-item">
                        <label>
                            <input type="checkbox" id="backup-automatico" onchange="configurarBackupAutomatico()">
                            Backup autom√°tico di√°rio
                        </label>
                    </div>
                    <button class="btn btn-primary" onclick="criarDadosExemplo()">
                        üéØ Gerar Dados de Exemplo
                    </button>
                </div>
            </div>

            <div class="dados-preview">
                <h3 class="section-title">üìä Preview dos Dados Atuais</h3>
                
                <div class="stats-resumo">
                    <div class="stat-resumo-item">
                        <span class="stat-resumo-numero" id="preview-empresas">0</span>
                        <span class="stat-resumo-label">Empresas</span>
                    </div>
                    <div class="stat-resumo-item">
                        <span class="stat-resumo-numero" id="preview-funcionarios">0</span>
                        <span class="stat-resumo-label">Funcion√°rios</span>
                    </div>
                    <div class="stat-resumo-item">
                        <span class="stat-resumo-numero" id="preview-obras">0</span>
                        <span class="stat-resumo-label">Obras</span>
                    </div>
                    <div class="stat-resumo-item">
                        <span class="stat-resumo-numero" id="preview-lancamentos">0</span>
                        <span class="stat-resumo-label">Lan√ßamentos</span>
                    </div>
                    <div class="stat-resumo-item">
                        <span class="stat-resumo-numero" id="preview-espelho">0</span>
                        <span class="stat-resumo-label">Registros Espelho</span>
                    </div>
                </div>

                <div class="dados-json-container">
                    <button class="btn btn-primary" onclick="mostrarPreviewJSON()" id="btn-preview">
                        üëÅÔ∏è Ver Estrutura JSON
                    </button>
                    <div id="json-preview" class="json-preview" style="display: none;">
                        <pre id="json-content"></pre>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </main>

    <!-- Toast de Notifica√ß√µes -->
    <div id="toast" class="toast">
        <span id="toast-message"></span>
        <button onclick="fecharToast()" class="toast-close">√ó</button>
    </div>

    <!-- Modal de Confirma√ß√£o -->
    <div id="modal-overlay" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-titulo">Confirma√ß√£o</h2>
                <button class="modal-close" onclick="fecharModal()">&times;</button>
            </div>
            <div id="modal-conteudo" style="padding: 20px; font-size: 1rem;"></div>
            <div class="modal-actions">
                <button id="modal-confirmar" class="btn btn-primary">‚úÖ Confirmar</button>
                <button type="button" class="btn btn-danger" onclick="fecharModal()">‚ùå Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Loading Global -->
    <div id="loading-global" class="loading-overlay">
        <div class="loading-spinner"></div>
        <p>Carregando...</p>
    </div>

    <!-- ========================================
         MODAL DE LOGIN
         ======================================== -->
    <div id="modal-login" class="modal">
        <div class="modal-content modal-login">
            <div class="login-header">
                <div class="login-logo">
                    <img src="assets/logo.png" alt="Logo" style="max-width: 150px; margin-bottom: 20px;" onerror="this.style.display='none'">
                </div>
                <h2>üèóÔ∏è Controle de Obras</h2>
                <p class="login-subtitle">Construtora Ramdy Raydan</p>
            </div>

            <form id="form-login" class="login-form">
                <div class="form-group">
                    <label for="login-usuario">
                        üë§ Usu√°rio ou Email
                    </label>
                    <input
                        type="text"
                        id="login-usuario"
                        name="usuario"
                        required
                        autofocus
                        placeholder="Digite seu usu√°rio ou email"
                        autocomplete="username"
                    />
                </div>

                <div class="form-group">
                    <label for="login-senha">
                        üîí Senha
                    </label>
                    <input
                        type="password"
                        id="login-senha"
                        name="senha"
                        required
                        placeholder="Digite sua senha"
                        autocomplete="current-password"
                    />
                </div>

                <button type="submit" class="btn btn-primary btn-full btn-login">
                    üîë Entrar
                </button>
            </form>

            <div class="login-footer">
                <p class="text-muted">
                    Sistema de Gest√£o de Obras
                </p>
            </div>
        </div>
    </div>

    <!-- Script de login (usar type="module" para importar) -->
    <script type="module">
        import { login } from './js/modules/auth.js';
        import { showNotification, showLoading, hideLoading } from './js/modules/ui.js';

        const form = document.getElementById('form-login');
        if (form) {
            form.addEventListener('submit', async function(event) {
                event.preventDefault();

                const usuario = document.getElementById('login-usuario').value;
                const senha = document.getElementById('login-senha').value;

                try {
                    showLoading('Autenticando...');

                    const result = await login(usuario, senha);

                    if (result.sucesso) {
                        showNotification('Login realizado com sucesso!', 'success');
                        // Recarregar p√°gina para inicializar app autenticado
                        setTimeout(() => {
                            window.location.reload();
                        }, 500);
                    } else {
                        showNotification(result.mensagem || 'Erro ao fazer login', 'error');
                    }
                } catch (error) {
                    console.error('Erro ao fazer login:', error);
                    showNotification('Erro ao fazer login. Verifique suas credenciais.', 'error');
                } finally {
                    hideLoading();
                }
            });
        }
    </script>

    <!-- Script para alternar sub-tabs -->
    <script>
        function showSubTab(tabId) {
            // Remover active de todos os bot√µes e conte√∫dos
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.sub-tab-content').forEach(content => content.classList.remove('active'));

            // Adicionar active no bot√£o clicado
            event.target.classList.add('active');

            // Mostrar conte√∫do correspondente
            document.getElementById(tabId).classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }
    </script>

    <!-- Modal: Novo/Editar Usu√°rio -->
    <div id="modal-usuario" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-usuario-titulo">Novo Usu√°rio</h2>
                <span class="fechar" onclick="fecharModalUsuario()">&times;</span>
            </div>
            <form id="form-usuario" onsubmit="salvarUsuario(event)">
                <input type="hidden" id="usuario-id">

                <div class="form-group">
                    <label for="usuario-nome">Nome Completo *</label>
                    <input type="text"
                           id="usuario-nome"
                           class="form-control"
                           required
                           placeholder="Ex: Jo√£o da Silva">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="usuario-username">Username *</label>
                        <input type="text"
                               id="usuario-username"
                               class="form-control"
                               required
                               placeholder="Ex: joao.silva">
                        <small>Usado para login (sem espa√ßos)</small>
                    </div>

                    <div class="form-group">
                        <label for="usuario-email">Email</label>
                        <input type="email"
                               id="usuario-email"
                               class="form-control"
                               placeholder="joao@example.com">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="usuario-senha">Senha *</label>
                        <input type="password"
                               id="usuario-senha"
                               class="form-control"
                               placeholder="M√≠nimo 6 caracteres">
                        <small id="senha-hint">Deixe em branco para manter a senha atual (ao editar)</small>
                    </div>

                    <div class="form-group">
                        <label for="usuario-tipo">Tipo de Usu√°rio *</label>
                        <select id="usuario-tipo" class="form-control" required>
                            <option value="usuario">Usu√°rio</option>
                            <option value="admin">Administrador</option>
                        </select>
                        <small>Administradores t√™m acesso total</small>
                    </div>
                </div>

                <div class="form-group">
                    <label for="usuario-ativo">Status</label>
                    <select id="usuario-ativo" class="form-control">
                        <option value="Sim">Ativo</option>
                        <option value="N√£o">Inativo</option>
                    </select>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="fecharModalUsuario()">
                        Cancelar
                    </button>
                    <button type="submit" class="btn btn-primary">
                        üíæ Salvar Usu√°rio
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- ===================================== -->
    <!-- MODAIS GLOBAIS (Fora da estrutura de tabs) -->
    <!-- ===================================== -->

    <!-- Modal Nova/Editar Tarefa -->
    <div id="modal-tarefa" class="modal-backdrop">
        <div class="modal-container modal-tarefa-new">
            <button class="modal-close-backdrop" onclick="fecharModal('modal-tarefa')" aria-label="Fechar">
                <span>&times;</span>
            </button>

            <div class="modal-content-new">
                <div class="modal-header-new">
                    <div class="modal-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 11l3 3L22 4"></path>
                            <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
                        </svg>
                    </div>
                    <h2 id="modal-tarefa-titulo" class="modal-title">Nova Tarefa</h2>
                </div>

                <form id="form-tarefa">
                    <div class="modal-body-new">
                        <div class="form-field-new">
                            <label for="tarefa-titulo" class="form-label-new">
                                <span class="label-text">T√≠tulo</span>
                                <span class="label-required">*</span>
                            </label>
                            <input type="text" id="tarefa-titulo" class="form-input-new" placeholder="Digite o t√≠tulo da tarefa..." required minlength="3">
                        </div>

                        <div class="form-field-new">
                            <label for="tarefa-descricao" class="form-label-new">
                                <span class="label-text">Descri√ß√£o</span>
                            </label>
                            <textarea id="tarefa-descricao" class="form-textarea-new" rows="3" placeholder="Descreva os detalhes da tarefa..."></textarea>
                        </div>

                        <div class="form-field-new">
                            <label for="tarefa-usuario-responsavel" class="form-label-new">
                                <span class="label-text">Usu√°rio Respons√°vel</span>
                                <span class="label-required">*</span>
                            </label>
                            <div class="custom-select-wrapper">
                                <select id="tarefa-usuario-responsavel" class="form-select-new form-select-with-avatar" required>
                                    <option value="">Selecione um usu√°rio...</option>
                                </select>
                                <div class="select-icon">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="6 9 12 15 18 9"></polyline>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <div class="form-row-new">
                            <div class="form-field-new">
                                <label for="tarefa-obra" class="form-label-new">
                                    <span class="label-text">Obra</span>
                                </label>
                                <select id="tarefa-obra" class="form-select-new">
                                    <option value="">Nenhuma obra</option>
                                </select>
                            </div>

                            <div class="form-field-new">
                                <label for="tarefa-empresa" class="form-label-new">
                                    <span class="label-text">Empresa</span>
                                </label>
                                <select id="tarefa-empresa" class="form-select-new">
                                    <option value="">Nenhuma empresa</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row-new">
                            <div class="form-field-new">
                                <label for="tarefa-status" class="form-label-new">
                                    <span class="label-text">Status</span>
                                    <span class="label-required">*</span>
                                </label>
                                <select id="tarefa-status" class="form-select-new" required>
                                    <option value="novo">üÜï Novo</option>
                                    <option value="em_andamento">‚öôÔ∏è Em Andamento</option>
                                    <option value="concluido">‚úÖ Conclu√≠do</option>
                                    <option value="cancelado">‚ùå Cancelado</option>
                                </select>
                            </div>

                            <div class="form-field-new">
                                <label for="tarefa-prioridade" class="form-label-new">
                                    <span class="label-text">Prioridade</span>
                                    <span class="label-required">*</span>
                                </label>
                                <select id="tarefa-prioridade" class="form-select-new" required>
                                    <option value="baixa">üü¢ Baixa</option>
                                    <option value="media" selected>üü° M√©dia</option>
                                    <option value="alta">üü† Alta</option>
                                    <option value="urgente">üî¥ Urgente</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-field-new">
                            <label for="tarefa-prazo" class="form-label-new">
                                <span class="label-text">Data Prazo</span>
                            </label>
                            <input type="date" id="tarefa-prazo" class="form-input-new">
                        </div>
                    </div>

                    <div class="modal-footer-new">
                        <button type="button" class="btn-new btn-secondary-new" onclick="fecharModal('modal-tarefa')">
                            <span>Cancelar</span>
                        </button>
                        <button type="submit" class="btn-new btn-primary-new">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                                <polyline points="17 21 17 13 7 13 7 21"></polyline>
                                <polyline points="7 3 7 8 15 8"></polyline>
                            </svg>
                            <span>Salvar Tarefa</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal Detalhes da Tarefa -->
    <div id="modal-detalhe-tarefa" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>üìã Detalhes da Tarefa</h2>
                <button class="close-modal" onclick="fecharModal('modal-detalhe-tarefa')">&times;</button>
            </div>

            <div class="tarefa-detalhes-container">
                <!-- Informa√ß√µes principais -->
                <div class="tarefa-info-section">
                    <h3 id="detalhe-tarefa-titulo" class="tarefa-titulo-principal">T√≠tulo da Tarefa</h3>

                    <div class="tarefa-meta-info">
                        <div class="meta-item">
                            <span class="meta-label">Status:</span>
                            <span id="detalhe-tarefa-status"></span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">Prioridade:</span>
                            <span id="detalhe-tarefa-prioridade"></span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">Respons√°vel:</span>
                            <span id="detalhe-tarefa-funcionario">-</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">Obra:</span>
                            <span id="detalhe-tarefa-obra">-</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">Empresa:</span>
                            <span id="detalhe-tarefa-empresa">-</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">Prazo:</span>
                            <span id="detalhe-tarefa-prazo">-</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">Criado em:</span>
                            <span id="detalhe-tarefa-criado-em">-</span>
                        </div>
                    </div>

                    <div class="tarefa-descricao-section">
                        <h4>Descri√ß√£o</h4>
                        <p id="detalhe-tarefa-descricao">Sem descri√ß√£o</p>
                    </div>
                </div>

                <!-- Coment√°rios -->
                <div class="tarefa-comentarios-section">
                    <h4>üí¨ Coment√°rios</h4>

                    <div id="lista-comentarios" class="comentarios-lista">
                        <!-- Coment√°rios carregados dinamicamente -->
                    </div>

                    <form id="form-comentario" class="form-comentario" onsubmit="event.preventDefault(); adicionarComentario();">
                        <textarea
                            id="comentario-texto"
                            class="form-control"
                            placeholder="Adicione um coment√°rio..."
                            rows="2"
                            required
                        ></textarea>
                        <button type="submit" class="btn btn-primary btn-sm">
                            üí¨ Adicionar Coment√°rio
                        </button>
                    </form>
                </div>
            </div>

            <div class="modal-footer">
                <button
                    id="btn-excluir-tarefa"
                    type="button"
                    class="btn btn-danger"
                    onclick="excluirTarefa(this.dataset.tarefaId)"
                >
                    üóëÔ∏è Excluir
                </button>
                <button
                    id="btn-editar-tarefa"
                    type="button"
                    class="btn btn-primary"
                    onclick="editarTarefa(this.dataset.tarefaId)"
                >
                    ‚úèÔ∏è Editar
                </button>
                <button type="button" class="btn btn-secondary" onclick="fecharModal('modal-detalhe-tarefa')">
                    Fechar
                </button>
            </div>
        </div>
    </div>

    <!-- Modal Detalhes da Tarefa - ESTILO TRELLO -->
    <div id="modal-tarefa-trello" class="modal-backdrop-trello">
        <div class="modal-trello-container">
            <!-- Header -->
            <div class="modal-trello-header">
                <h1 id="trello-tarefa-titulo" class="modal-trello-title" contenteditable="true">
                    T√≠tulo da Tarefa
                </h1>
                <button class="modal-trello-close" onclick="fecharModalTrello()" aria-label="Fechar">
                    √ó
                </button>
            </div>

            <!-- Body com Grid -->
            <div class="modal-trello-body">
                <!-- Coluna Principal (70%) -->
                <div class="modal-trello-main">
                    <!-- Etiquetas -->
                    <div id="trello-section-etiquetas"></div>

                    <!-- Descri√ß√£o -->
                    <div class="trello-section">
                        <div class="trello-section-header">
                            <h3 class="trello-section-title">
                                <span class="icon">üìù</span>
                                <span>Descri√ß√£o</span>
                            </h3>
                        </div>
                        <div
                            id="trello-tarefa-descricao"
                            class="trello-description-editor"
                            contenteditable="true"
                        ></div>
                        <div class="trello-description-actions">
                            <button id="btn-salvar-descricao" class="btn-new btn-primary-new" onclick="salvarDescricaoTrello()">
                                üíæ Salvar descri√ß√£o
                            </button>
                            <button class="btn-new btn-secondary-new" onclick="cancelarEdicaoDescricao()">
                                Cancelar
                            </button>
                        </div>
                    </div>

                    <!-- Checklist -->
                    <div id="trello-section-checklist"></div>

                    <!-- Anexos -->
                    <div id="trello-section-anexos"></div>

                    <!-- Coment√°rios -->
                    <div class="trello-section">
                        <div class="trello-section-header">
                            <h3 class="trello-section-title">
                                <span class="icon">üí¨</span>
                                <span>Coment√°rios</span>
                            </h3>
                        </div>
                        <div id="trello-comentarios-container"></div>

                        <!-- Formul√°rio de novo coment√°rio -->
                        <div style="margin-top: 16px;">
                            <textarea
                                id="trello-novo-comentario"
                                class="form-input-new"
                                placeholder="Escreva um coment√°rio..."
                                rows="3"
                                style="margin-bottom: 8px;"
                            ></textarea>
                            <button class="btn-new btn-primary-new" onclick="adicionarComentarioTrello()">
                                üí¨ Comentar
                            </button>
                        </div>
                    </div>

                    <!-- Atividades -->
                    <div id="trello-section-atividades"></div>
                </div>

                <!-- Sidebar Direita (30%) -->
                <div class="modal-trello-sidebar">
                    <div class="sidebar-section">
                        <h4 class="sidebar-title">Adicionar √† tarefa</h4>

                        <button class="trello-sidebar-btn" onclick="mostrarSeletorMembros()">
                            <span class="icon">üë•</span>
                            <span>Membros</span>
                        </button>

                        <button class="trello-sidebar-btn" onclick="mostrarSeletorEtiquetas()">
                            <span class="icon">üè∑Ô∏è</span>
                            <span>Etiquetas</span>
                        </button>

                        <button class="trello-sidebar-btn" onclick="mostrarFormNovoItemChecklist()">
                            <span class="icon">‚òëÔ∏è</span>
                            <span>Checklist</span>
                        </button>

                        <button class="trello-sidebar-btn" onclick="mostrarSeletorData()">
                            <span class="icon">üìÖ</span>
                            <span>Data</span>
                        </button>

                        <button class="trello-sidebar-btn" onclick="mostrarFormUploadAnexo()">
                            <span class="icon">üìé</span>
                            <span>Anexo</span>
                        </button>
                    </div>

                    <div id="trello-date-picker" class="trello-date-picker hidden">
                        <label for="trello-date-input">Selecionar data</label>
                        <input type="date" id="trello-date-input" class="form-input-new">
                        <div class="trello-date-actions">
                            <button class="trello-sidebar-btn" onclick="salvarDataTrello()">Salvar data</button>
                            <button class="trello-sidebar-btn" onclick="limparDataTrello()">Limpar data</button>
                            <button class="trello-sidebar-btn" onclick="cancelarSeletorData()">Fechar</button>
                        </div>
                    </div>

                    <div class="sidebar-section">
                        <h4 class="sidebar-title">A√ß√µes</h4>

                        <button class="trello-sidebar-btn" onclick="editarTarefaTrello()">
                            <span class="icon">‚úèÔ∏è</span>
                            <span>Editar</span>
                        </button>

                        <button class="trello-sidebar-btn" onclick="moverTarefaTrello()">
                            <span class="icon">‚û°Ô∏è</span>
                            <span>Mover</span>
                        </button>

                        <button class="trello-sidebar-btn" onclick="copiarTarefaTrello()">
                            <span class="icon">üìã</span>
                            <span>Copiar</span>
                        </button>

                        <button class="trello-sidebar-btn danger" onclick="excluirTarefaTrello()">
                            <span class="icon">üóëÔ∏è</span>
                            <span>Excluir</span>
                        </button>
                    </div>

                    <!-- Se√ß√£o de Membros -->
                    <div class="sidebar-section" id="trello-section-membros"></div>

                    <!-- Informa√ß√µes extras -->
                    <div class="sidebar-section">
                        <h4 class="sidebar-title">Detalhes</h4>
                        <div style="font-size: 12px; color: #5e6c84; line-height: 1.6;">
                            <div style="margin-bottom: 8px;">
                                <strong>Status:</strong> <span id="trello-tarefa-status-text">-</span>
                            </div>
                            <div style="margin-bottom: 8px;">
                                <strong>Prioridade:</strong> <span id="trello-tarefa-prioridade-text">-</span>
                            </div>
                            <div style="margin-bottom: 8px;">
                                <strong>Respons√°vel:</strong> <span id="trello-tarefa-responsavel-text">-</span>
                            </div>
                            <div style="margin-bottom: 8px;">
                                <strong>Prazo:</strong> <span id="trello-tarefa-prazo-text">-</span>
                            </div>
                            <div style="margin-bottom: 8px;">
                                <strong>Criado em:</strong> <span id="trello-tarefa-criado-text">-</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- SheetJS para exporta√ß√£o Excel -->
    <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>

    <!-- ARQUITETURA MODULAR ES6 ATIVADA -->
    <script type="module" src="js/app.js"></script>

    <!-- Script.js - Vers√£o funcional monol√≠tica (DESATIVADO) -->
    <!-- <script src="script.js"></script> -->
</body>
</html>