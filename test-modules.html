<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Teste M√≥dulos JS</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
        .result { background: white; padding: 20px; margin: 10px 0; border-radius: 5px; }
        .success { border-left: 4px solid #10b981; }
        .error { border-left: 4px solid #ef4444; }
        .warning { border-left: 4px solid #f59e0b; }
        pre { background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 5px; overflow-x: auto; }
        h1 { color: #1e293b; }
        .module-list { list-style: none; padding: 0; }
        .module-list li { padding: 8px; margin: 5px 0; background: #f8fafc; border-radius: 4px; }
        .check { color: #10b981; font-weight: bold; }
        .cross { color: #ef4444; font-weight: bold; }
    </style>
</head>
<body>
    <h1>üß™ Teste de M√≥dulos JavaScript</h1>

    <div id="results">
        <div class="result">
            <p>‚è≥ Testando m√≥dulos...</p>
        </div>
    </div>

    <script>
        const modulesToTest = [
            'js/app.js',
            'js/modules/config.js',
            'js/modules/api.js',
            'js/modules/utils.js',
            'js/modules/ui.js',
            'js/modules/components.js',
            'js/modules/store.js',
            'js/modules/empresas.js'
        ];

        async function testarModulos() {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '<div class="result"><h3>üîç Verificando m√≥dulos...</h3></div>';

            const resultados = [];

            for (const modulo of modulesToTest) {
                try {
                    const response = await fetch(modulo, { method: 'HEAD' });
                    resultados.push({
                        modulo,
                        existe: response.ok,
                        status: response.status,
                        tipo: response.headers.get('content-type')
                    });
                } catch (error) {
                    resultados.push({
                        modulo,
                        existe: false,
                        erro: error.message
                    });
                }
            }

            const todosExistem = resultados.every(r => r.existe);

            let html = `
                <div class="result ${todosExistem ? 'success' : 'error'}">
                    <h3>${todosExistem ? '‚úÖ' : '‚ùå'} Resultado do Teste</h3>
                    <ul class="module-list">
            `;

            resultados.forEach(r => {
                html += `
                    <li>
                        <span class="${r.existe ? 'check' : 'cross'}">${r.existe ? '‚úÖ' : '‚ùå'}</span>
                        <strong>${r.modulo}</strong>
                        ${r.existe ? `(Status: ${r.status})` : `(N√£o encontrado)`}
                    </li>
                `;
            });

            html += '</ul>';

            if (!todosExistem) {
                html += `
                    <div class="warning" style="margin-top: 20px; padding: 15px;">
                        <h4>‚ö†Ô∏è Problema Detectado</h4>
                        <p>A pasta <code>js/</code> n√£o est√° no servidor ou est√° incompleta.</p>
                        <p><strong>Solu√ß√£o:</strong></p>
                        <ol>
                            <li>Acesse cPanel ‚Üí Gerenciador de Arquivos</li>
                            <li>Navegue at√© <code>/public_html/</code></li>
                            <li>Fa√ßa upload da pasta <code>js/</code> completa</li>
                            <li>Verifique se a estrutura est√° correta</li>
                        </ol>
                    </div>
                `;
            } else {
                html += `
                    <div class="success" style="margin-top: 20px; padding: 15px;">
                        <h4>‚úÖ Todos os m√≥dulos foram encontrados!</h4>
                        <p>A estrutura modular est√° correta no servidor.</p>
                        <p>Se o app ainda n√£o carrega, verifique o Console do navegador (F12) para ver o erro espec√≠fico.</p>
                    </div>
                `;
            }

            html += '</div>';

            resultsDiv.innerHTML = html;
        }

        window.addEventListener('DOMContentLoaded', testarModulos);
    </script>
</body>
</html>
